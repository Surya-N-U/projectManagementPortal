<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student</title>
    
</head>
<body>
    <center><h1>
        Student details
    </center></h1>
    <h2>Pitch in your idea</h2>
  
    
        <form id="ideaSub" method="post" action="/student">
    <input type="text" name="prid"  placeholder="enter your project ID">
    <br>
    <input type="text" name="gid"  placeholder="enter your group ID">
    <br>
    <input type="text" name="fid"  placeholder="enter your faculty ID">
    <br>
    <input type="text" name="idea"  placeholder="enter your idea">
    <br>
    <input type="text" name="descr"  placeholder="enter the description">
    <br>
    <input type="submit">
    </form>
    
    <center>
        <h2>Weekly reports</h2>
    </center>  
    <h3>Give your weekly progress here</h3>
    <form id="weeklyReport" method="post" action="/student/report">
    <input type="text" name="prid"  placeholder="enter your project ID">
    <br>
    <input type="text" name="gid"  placeholder="enter your group ID">
    <br>
    <input type="text" name="fid"  placeholder="enter your faculty ID">
    <br>
    <input type="text" name="wn"  placeholder="enter your week number">
            <br>
    <input type="text" name="updates" placeholder="enter your update for this week ">
            <br>
     <button type="submit">SUBMIT</button>
<br/><br/>
    </form>
<h1>View Review</h1>
        
    <button id="viewReviewBtn">View Review
            </button>
<div id="reviewContainer"></div>


<script>
    document.getElementById('viewReviewBtn').addEventListener('click', async () => {
        try {
            const pathName = window.location.pathname;
            const parts = pathName.split('/');
            const studentId = parts[parts.length-1];

            const response = await fetch(`/viewreview/${studentId}`);

           const reviewData = await response.json();
            console.log(reviewData);

            const reviewContainer = document.getElementById('reviewContainer');
            reviewContainer.innerHTML = `<p><strong>Review:</strong> ${reviewData}</p>`;
        } catch (error) {
            console.error('Error fetching review:', error);
        }
    });
</script>

      
    </body>
    </html>
